<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tic-Tac-Toe</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/png" href="./assets/favicon.png">
</head>

<body>
  <img src="./assets/left.gif" class="side-gif left">
  <img src="./assets/right.gif" class="side-gif right">
  <header>
    <img src="./assets/title.png" alt="Tic-Tac-Toe Logo Text" class="logo-text">
    <img src="./assets/game.png" alt="Tic-Tac-Toe Board" class="logo-board">
  </header>

  <main>
    <div id="user-info" class="user-info hidden">
      <span id="nickname" class="nickname"></span>
      <button id="logout-btn">Logout</button>
    </div>

    <div id="stats" class="stats hidden"></div>

    <div id="auth-container" class="auth-container">
      <form id="login-form" class="auth-form">
        <h2>Login</h2>
        <input type="text" id="login-nickname" placeholder="Nickname" required>
        <input type="password" id="login-password" placeholder="Password" required>
        <button type="submit">Login</button>
        <p id="auth-error-login" class="auth-error"></p>
        <a href="#" id="show-register-link" class="auth-toggle-link">Don't have an account? Register</a>
      </form>

      <form id="register-form" class="auth-form hidden">
        <h2>Register</h2>
        <input type="text" id="register-nickname" placeholder="Nickname (min 3 chars)" required>
        <input type="password" id="register-password" placeholder="Password (min 6 chars)" required>
        <button type="submit">Register</button>
        <p id="auth-error-register" class="auth-error"></p>
        <a href="#" id="show-login-link" class="auth-toggle-link">Already have an account? Login</a>
      </form>
    </div>

    <div id="menu" class="menu hidden">
      <button id="quick-game-btn" class="menu-btn online">
        <span class="btn-icon">ğŸ‘¥</span>
        <span class="btn-text">Online Game</span>
      </button>
      <button id="bot-game-btn" class="menu-btn bot">
        <span class="btn-icon">ğŸ¤–</span>
        <span class="btn-text">Play vs Bot</span>
      </button>
      <button id="offline-game-btn" class="menu-btn offline">
        <span class="btn-icon">ğŸ®</span>
        <span class="btn-text">Local Game</span>
      </button>
      <button id="leaderboard-btn" class="menu-btn leaderboard">
        <span class="btn-icon">ğŸ†</span>
        <span class="btn-text">Leaderboard</span>
      </button>
      <button id="profile-btn" class="menu-btn profile">
        <span class="btn-icon">ğŸ‘¤</span>
        <span class="btn-text">Profile</span>
      </button>
      <button id="shop-btn" class="menu-btn shop">
        <span class="btn-icon">ğŸ›’</span>
        <span class="btn-text">Shop</span>
      </button>
    </div>

    <div id="bot-menu" class="bot-menu hidden">
      <h2 class="bot-menu-title">Choose Difficulty</h2>
      <div class="difficulty-cards">
        <div class="difficulty-card easy" data-difficulty="easy">
          <div class="difficulty-icon">ğŸ¤–</div>
          <h3>Easy</h3>
          <p>Random moves</p>
          <div class="difficulty-stars">â˜…â˜†â˜†</div>
        </div>
        <div class="difficulty-card medium" data-difficulty="medium">
          <div class="difficulty-icon">ğŸ§ </div>
          <h3>Medium</h3>
          <p>Smart moves</p>
          <div class="difficulty-stars">â˜…â˜…â˜†</div>
        </div>
        <div class="difficulty-card hard" data-difficulty="hard">
          <div class="difficulty-icon">ğŸ”¥</div>
          <h3>Hard</h3>
          <p>Unbeatable</p>
          <div class="difficulty-stars">â˜…â˜…â˜…</div>
        </div>
      </div>
      <button id="back-from-bot-btn" class="back-btn">Back</button>
    </div>

    <button id="cancel-search-btn" class="hidden">Cancel</button>

    <div id="game-start-screen" class="start-screen hidden">
      <div class="start-half left"></div>
      <div class="start-half right"></div>
      <div id="game-start-text" class="start-text hidden">GET READY</div>
    </div>

    <div class="game-area">
      <div id="opponent-panel" class="player-panel left hidden">
        <div class="player-avatar">ğŸ‘¤</div>
        <div class="player-name" id="opponent-name">Opponent</div>
        <div class="player-elo" id="opponent-elo">ELO: 1000</div>
      </div>
      <div id="game-board" class="board hidden"></div>
      <div id="my-panel" class="player-panel right hidden">
        <div class="player-avatar">ğŸ‘¤</div>
        <div class="player-name" id="my-name">You</div>
        <div class="player-elo" id="my-elo">ELO: 1000</div>
      </div>

      <div id="restart-menu" class="restart-menu hidden">
        <button id="play-again-btn">Play Again</button>
        <button id="back-to-main-btn">Back to Main</button>
      </div>

      <div id="move-timer" class="move-timer hidden">
        <div id="move-timer-progress" class="move-timer-progress"></div>
      </div>

      <div id="rematch-box" class="rematch-box hidden">
        <p>Opponent wants a rematch. Accept?</p>
        <div class="modal-buttons">
          <button id="accept-rematch-btn">Accept</button>
          <button id="decline-rematch-btn">Decline</button>
        </div>
        <div class="timer-line">
          <div class="timer-progress"></div>
        </div>
      </div>
    </div>

    <div id="game-status" class="game-status"></div>
    <div id="game-score" class="game-score"></div>
    <div id="leaderboard-modal" class="modal hidden">
      <div class="modal-content leaderboard-content">
        <div class="leaderboard-header">
          <h2>ğŸ† Top 10 Players</h2>
          <button id="close-leaderboard" class="close-btn">Ã—</button>
        </div>
        <div class="table-container">
          <table id="leaderboard-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Player</th>
                <th>ELO</th>
                <th>Wins</th>
                <th>Winrate</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
          <p id="leaderboard-loading" class="loading-text">Loading...</p>
        </div>
      </div>
    </div>

    <!-- My Profile Modal -->
    <div id="profile-modal" class="modal hidden">
      <div class="modal-content profile-content">
        <div class="profile-header">
          <h2>ğŸ‘¤ My Profile</h2>
          <button id="close-profile" class="close-btn">Ã—</button>
        </div>
        <div class="profile-body">
          <div class="profile-nickname" id="profile-nickname">Loading...</div>
          <div class="profile-stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="profile-elo">1000</div>
              <div class="stat-label">ELO</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="profile-wins">0</div>
              <div class="stat-label">Wins</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="profile-losses">0</div>
              <div class="stat-label">Losses</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="profile-draws">0</div>
              <div class="stat-label">Draws</div>
            </div>
          </div>
          <div class="profile-winrate" id="profile-winrate">Winrate: 0%</div>
        </div>
      </div>
    </div>

    <!-- Opponent Profile Modal -->
    <div id="opponent-profile-modal" class="modal hidden">
      <div class="modal-content profile-content">
        <div class="profile-header">
          <h2>ğŸ‘¤ Player Profile</h2>
          <button id="close-opponent-profile" class="close-btn">Ã—</button>
        </div>
        <div class="profile-body">
          <div class="profile-nickname" id="opp-profile-nickname">Loading...</div>
          <div class="profile-stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="opp-profile-elo">1000</div>
              <div class="stat-label">ELO</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="opp-profile-wins">0</div>
              <div class="stat-label">Wins</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="opp-profile-losses">0</div>
              <div class="stat-label">Losses</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="opp-profile-draws">0</div>
              <div class="stat-label">Draws</div>
            </div>
          </div>
          <div class="profile-winrate" id="opp-profile-winrate">Winrate: 0%</div>
        </div>
      </div>
    </div>

    <!-- Shop Modal -->
    <div id="shop-modal" class="modal hidden">
      <div class="modal-content shop-content">
        <div class="shop-header">
          <h2>ğŸ›’ Shop</h2>
          <div class="shop-balance">
            <span class="coin-icon">ğŸª™</span>
            <span id="shop-balance-amount">0</span>
          </div>
          <button id="close-shop" class="close-btn">Ã—</button>
        </div>
        <div class="shop-body">
          <div class="ad-section">
            <button id="watch-ad-btn" class="ad-btn">
              <span class="btn-icon">ğŸ“º</span>
              Watch Ad (+50 Coins)
            </button>
          </div>
          <h3>Skins</h3>
          <div id="shop-catalog" class="shop-catalog">
            <!-- Items will be injected here -->
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="scripts.js" defer></script>
  <script src="profile.js" defer></script>
</body>

</html>